<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bug Bounty Research Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans flex flex-col min-h-screen">

  <!-- Header -->
  <header class="bg-gray-800 p-4 text-center shadow-md">
    <h1 class="text-3xl font-bold">🐞 Bug Bounty Research Hub</h1>
    <p class="text-gray-400">by <a href="https://github.com/nemocyberworld">Captain Nemo</a> | <a href="https://hacktolive.net/">HackToLive</a></p>
  </header>

  <!-- Layout -->
  <div class="flex flex-1 overflow-hidden">
    <!-- Sidebar -->
    <aside class="w-64 bg-gray-800 p-4 overflow-y-auto border-r border-gray-700">
      <h2 class="text-lg font-semibold mb-4">Curriculum</h2>

      <input
        type="text"
        id="searchInput"
        placeholder="Search lessons, tools, techniques..."
        class="w-full mb-4 px-3 py-2 rounded bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
      />

      <ul id="categoryList" class="space-y-2 text-sm"></ul>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6 overflow-y-auto">
      <div id="walkthroughContent" class="bg-gray-800 p-6 rounded-xl shadow-md">
        <h2 class="text-2xl font-bold mb-4">📚 Welcome to the Bug Bounty Program</h2>
        <p class="text-gray-300 mb-4">
          Learn and teach <strong>bug bounty methodology</strong>, master essential <strong>tools</strong>,
          and practice real-world <strong>techniques</strong>. Everything here is structured for ethical,
          authorized testing and responsible disclosure.
        </p>

        <h3 class="text-xl font-semibold mt-6 mb-2">📂 Main Sections</h3>
        <ul id="categoryOverview" class="list-disc ml-6 text-gray-400 space-y-1"></ul>
      </div>
    </main>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-800 text-center text-gray-400 text-sm py-3 px-4 mt-auto border-t border-gray-700 select-none">
    <p>
      © 2025 Captain Nemo • Part of <a href="https://hacktolive.net/" class="text-purple-400 underline">HackToLive Academy</a>
    </p>
  </footer>

<script>
  // BUG BOUNTY–FOCUSED LESSON MAP
  const walkthroughs = [
    /* 0. Start Here & Policy */
    { main: "Start Here & Policy", sub: "Ethics & Program Rules", path: "START/Ethics/index.html" },
    { main: "Start Here & Policy", sub: "Scope, OOS & Safe Targets", path: "START/Scope/index.html" },
    { main: "Start Here & Policy", sub: "How to Report Responsibly", path: "START/Reporting-Basics/index.html" },

    /* 1. Methodology */
    { main: "Methodology", sub: "Recon Strategy (Passive → Active)", path: "Methodology/Recon-Strategy/index.html" },
    { main: "Methodology", sub: "Attack Surface Mapping", path: "Methodology/Attack-Surface/index.html" },
    { main: "Methodology", sub: "Finding → Proving → Prioritizing", path: "Methodology/Finding-Proving/index.html" },
    { main: "Methodology", sub: "Triage Mindset & Duplicates", path: "Methodology/Triage/index.html" },

    /* 2. Recon & Discovery (Tools) */
    { main: "Recon & Discovery (Tools)", sub: "Subdomain & DNS: amass, subfinder", path: "Tools/Recon/Subdomains/index.html" },
    { main: "Recon & Discovery (Tools)", sub: "HTTP Probe & Tech: httpx, Wappalyzer", path: "Tools/Recon/Probe-Tech/index.html" },
    { main: "Recon & Discovery (Tools)", sub: "Content Discovery: ffuf, dirsearch, waybackurls", path: "Tools/Recon/Content-Discovery/index.html" },

    /* 3. Web Vulnerabilities (Techniques) */
    { main: "Web Vulnerabilities", sub: "XSS (Reflected/Stored/DOM)", path: "Techniques-Web/XSS/index.html" },
    { main: "Web Vulnerabilities", sub: "SQLi (Union/Blind/Time)", path: "Techniques-Web/SQLi/index.html" },
    { main: "Web Vulnerabilities", sub: "SSRF → Data Exfil / Pivot", path: "Techniques-Web/SSRF/index.html" },
    { main: "Web Vulnerabilities", sub: "CSRF & SameSite Pitfalls", path: "Techniques-Web/CSRF/index.html" },
    { main: "Web Vulnerabilities", sub: "SSTI / RCE Chains", path: "Techniques-Web/SSTI/index.html" },
    { main: "Web Vulnerabilities", sub: "Path Traversal / LFI / RFI", path: "Techniques-Web/Traversal/index.html" },
    { main: "Web Vulnerabilities", sub: "Open Redirect → Token Theft", path: "Techniques-Web/Open-Redirect/index.html" },
    { main: "Web Vulnerabilities", sub: "CORS Misconfiguration", path: "Techniques-Web/CORS/index.html" },
    { main: "Web Vulnerabilities", sub: "HTTP Request Smuggling", path: "Techniques-Web/HRS/index.html" },
    { main: "Web Vulnerabilities", sub: "Clickjacking & Framing", path: "Techniques-Web/Clickjacking/index.html" },

    /* 4. Auth & Access Control */
    { main: "Auth & Access Control", sub: "Broken Access Control / IDOR", path: "Techniques-Auth/IDOR/index.html" },
    { main: "Auth & Access Control", sub: "Session Management Issues", path: "Techniques-Auth/Session/index.html" },
    { main: "Auth & Access Control", sub: "OAuth / SSO Misconfigurations", path: "Techniques-Auth/OAuth/index.html" },
    { main: "Auth & Access Control", sub: "2FA / OTP Bypass Approaches", path: "Techniques-Auth/2FA/index.html" },

    /* 5. Business Logic Bugs */
    { main: "Business Logic Bugs", sub: "Rate Limit Bypass & Bruteforce", path: "Techniques-Logic/Rate-Limit/index.html" },
    { main: "Business Logic Bugs", sub: "Checkout / Wallet / Coupon Abuse", path: "Techniques-Logic/Commerce/index.html" },
    { main: "Business Logic Bugs", sub: "Password Reset Poisoning", path: "Techniques-Logic/Reset/index.html" },
    { main: "Business Logic Bugs", sub: "State Machine / Workflow Flaws", path: "Techniques-Logic/State/index.html" },

    /* 6. Cloud, API & Mobile */
    { main: "Cloud, API & Mobile", sub: "API: BOLA/BFLA/Mass Assignment", path: "Cloud-API-Mobile/API/index.html" },
    { main: "Cloud, API & Mobile", sub: "Cloud: AWS/GCP/Azure Misconfigs", path: "Cloud-API-Mobile/Cloud/index.html" },
    { main: "Cloud, API & Mobile", sub: "Mobile: Android/iOS Testing Notes", path: "Cloud-API-Mobile/Mobile/index.html" },

    /* 7. Post-Exploitation (Legal Lab Only) */
    { main: "Post-Exploitation (Labs)", sub: "From Low to High Impact Safely", path: "PostEx/Labs/Impact-Chains/index.html" },

    /* 8. Reporting & Evidence */
    { main: "Reporting & Evidence", sub: "Proof, Screenshots & Videos", path: "Reporting/Evidence/index.html" },
    { main: "Reporting & Evidence", sub: "Impact, CVSS & CWE Mapping", path: "Reporting/Impact-CVSS/index.html" },
    { main: "Reporting & Evidence", sub: "Write a Clear, Actionable Report", path: "Reporting/Writeups/index.html" },

    /* 9. Labs & Case Studies */
    { main: "Labs & Case Studies", sub: "Hands-on: XSS → Account Takeover", path: "Labs/XSS-AO/index.html" },
    { main: "Labs & Case Studies", sub: "Hands-on: IDOR Data Exposure", path: "Labs/IDOR/index.html" },
    { main: "Labs & Case Studies", sub: "Case Studies: Public Writeups", path: "Case-Studies/Public-Writeups/index.html" },

    /* 10. Resources */
    { main: "Resources", sub: "Cheatsheets & Payloads", path: "Resources/Cheatsheets/index.html" },
    { main: "Resources", sub: "Reading List & Courses", path: "Resources/Reading/index.html" },
    { main: "Resources", sub: "Glossary", path: "Resources/Glossary/index.html" }
  ];

  const categoryList = document.getElementById("categoryList");
  const walkthroughContent = document.getElementById("walkthroughContent");
  const categoryOverview = document.getElementById("categoryOverview");
  const searchInput = document.getElementById("searchInput");

  const grouped = {};
  walkthroughs.forEach(w => {
    if (!grouped[w.main]) grouped[w.main] = [];
    grouped[w.main].push(w);
  });

  function updateCategoryOverview(source) {
    categoryOverview.innerHTML = "";
    Object.keys(source).forEach(mainCat => {
      const li = document.createElement("li");
      li.textContent = `${mainCat} (${source[mainCat].length})`;
      categoryOverview.appendChild(li);
    });
  }

  function buildCategoryList(source, expandAll = false) {
    categoryList.innerHTML = "";
    Object.keys(source).forEach(mainCat => {
      const container = document.createElement("li");
      container.innerHTML = `
        <details class="group" ${expandAll ? "open" : ""}>
          <summary class="cursor-pointer px-3 py-2 rounded-md hover:bg-gray-700 font-semibold">${mainCat}</summary>
          <ul class="pl-4 mt-2 space-y-1 text-sm">
            ${source[mainCat].map(w => `
              <li>
                <button onclick="loadWalkthrough('${w.path}')" class="text-left w-full px-2 py-1 hover:bg-gray-700 rounded">
                  ${w.sub}
                </button>
              </li>
            `).join("")}
          </ul>
        </details>
      `;
      categoryList.appendChild(container);
    });
    updateCategoryOverview(source);
  }

  // Initial render
  buildCategoryList(grouped);

  // Search filter (live)
  searchInput.addEventListener("input", () => {
    const q = searchInput.value.toLowerCase().trim();
    if (!q) { buildCategoryList(grouped); return; }

    const filtered = {};
    Object.keys(grouped).forEach(mainCat => {
      const subs = grouped[mainCat].filter(w =>
        mainCat.toLowerCase().includes(q) || w.sub.toLowerCase().includes(q)
      );
      if (subs.length) filtered[mainCat] = subs;
    });
    buildCategoryList(filtered, true);
  });

  async function loadWalkthrough(path) {
    try {
      const res = await fetch(path);
      if (!res.ok) throw new Error("File not found");
      const html = await res.text();
      walkthroughContent.innerHTML = html;
    } catch (err) {
      walkthroughContent.innerHTML = `<p class="text-red-400">⚠️ Error loading content: ${err.message}</p>`;
    }
  }
</script>

</body>
</html>
